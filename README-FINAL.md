
```markdown
# 🎓 سامانه مدیریت دانشگاه

سامانه مدیریت دانشگاه یک پلتفرم تحت وب مدرن برای مدیریت جامع فرآیندهای دانشگاهی است. این پروژه با هدف خودکارسازی عملیات آکادمیک طراحی شده و امکان مدیریت دانشجویان، اساتید، دروس، و گزارشات را با رابط کاربری بصری و API قدرتمند فراهم می‌کند. با استفاده از فناوری‌های پیشرفته مانند FastAPI، Tailwind CSS، و Docker، این سامانه عملکرد بالا، امنیت، و مقیاس‌پذیری را تضمین می‌کند.

این مستند راهنمای کامل نصب، استفاده، توسعه، و عیب‌یابی پروژه را ارائه می‌دهد. برای شروع سریع، به بخش [نصب و راه‌اندازی](#نصب-و-راه‌اندازی) مراجعه کنید.

> مدیریت ساده و هوشمند دانشگاه شما

---

## 📚 فهرست مطالب

* [📖 معرفی پروژه](#معرفی-پروژه)
* [🌟 ویژگی‌ها](#ویژگی‌ها)
* [🛠 تکنولوژی‌ها](#تکنولوژی‌ها)
* [📂 ساختار پروژه](#ساختار-پروژه)
* [🚀 نصب و راه‌اندازی](#نصب-و-راه‌اندازی)
    * [پیش‌نیازها](#پیش‌نیازها)
    * [نصب با Docker](#نصب-با-docker)
    * [نصب دستی](#نصب-دستی)
* [📖 راهنمای استفاده](#راهنمای-استفاده)
    * [ورود به سیستم](#ورود-به-سیستم)
    * [مدیریت دانشجویان](#مدیریت-دانشجویان)
    * [مدیریت اساتید](#مدیریت-اساتید)
    * [مدیریت دروس](#مدیریت-دروس)
    * [گزارشات](#گزارشات)
* [📚 مستندات API](#مستندات-api)
* [🧑‍💻 توسعه و مشارکت](#توسعه-و-مشارکت)
    * [راه‌اندازی محیط توسعه](#راه‌اندازی-محیط-توسعه)
    * [ساختار پایگاه داده](#ساختار-پایگاه-داده)
    * [تست و دیباگ](#تست-و-دیباگ)
* [🛠 عیب‌یابی](#عیب‌یابی)
* [📜 مجوز](#مجوز)

---

## 📖 معرفی پروژه

سامانه مدیریت دانشگاه یک راه‌حل نرم‌افزاری جامع برای مدیریت فرآیندهای آکادمیک است که برای دانشگاه‌های کوچک تا متوسط طراحی شده و قابلیت مقیاس‌پذیری برای نیازهای بزرگ‌تر را دارد. این سامانه با رابط کاربری وب پاسخ‌گو و API RESTful، امکان مدیریت اطلاعات دانشجویان، اساتید، دروس، و گزارشات آماری را فراهم می‌کند.

### اهداف پروژه

* **خودکارسازی**: کاهش فرآیندهای دستی با فرم‌های دیجیتال و گزارشات خودکار.
* **کاربرپسند**: رابط کاربری ساده و بصری برای کاربران غیرفناوری.
* **امنیت**: اعتبارسنجی دقیق داده‌ها و سیستم ورود امن.
* **انعطاف‌پذیری**: پشتیبانی از توسعه و سفارشی‌سازی با معماری ماژولار.

> گزارشات بصری برای تصمیم‌گیری بهتر

---

## 🌟 ویژگی‌ها

این سامانه امکانات متنوعی برای مدیریت دانشگاه ارائه می‌دهد:

| دسته‌بندی    | قابلیت‌ها                                                                               |
| :----------- | :-------------------------------------------------------------------------------------- |
| **مدیریت کاربران** | 🔐 ورود امن با نام کاربری و رمز عبور<br>🚪 خروج از سیستم                          |
| **دانشجویان** | 🧑‍🎓 ثبت، ویرایش، و جستجوی و حذف دانشجویان<br>🔍 فیلتر بر اساس دانشکده و رشته<br>✅ اعتبارسنجی شماره دانشجویی و کد ملی |
| **اساتید** | 🧑‍🏫 ثبت، ویرایش، جستجو، و حذف اساتید<br>📋 تخصیص به دانشکده‌ها                 |
| **دروس** | 📚 ثبت، ویرایش، و حذف دروس<br>👤 تخصیص اساتید به دروس                                 |
| **گزارشات** | 📊 نمودارهای پای و میله‌ای برای تحلیل داده‌ها<br>📈 گزارش تعداد دانشجویان، اساتید، و دروس |
| **رابط کاربری** | 🌐 طراحی پاسخ‌گو با Tailwind CSS<br>🔔 اعلان‌های Toastify<br>📐 فونت فارسی Vazirmatn    |

### جزئیات بیشتر ویژگی‌ها

* **فیلتر پیشرفته**: امکان فیلتر دانشجویان بر اساس دانشکده (فنی مهندسی، علوم پایه، اقتصاد) و رشته‌های مرتبط.
* **اعتبارسنجی قوی**: استفاده از Pydantic برای بررسی صحت داده‌ها (مثل کد ملی 10 رقمی یا شماره دانشجویی با الگوی خاص).
* **گزارشات تعاملی**: نمودارهای Chart.js با قابلیت دانلود به فرمت PNG.
* **پشتیبانی چندزبانه**: رابط کاربری با فونت Vazirmatn برای تجربه بهتر فارسی‌زبانان.

---

## 🛠 تکنولوژی‌ها

| بخش         | ابزارها و فریم‌ورک‌ها                                           |
| :---------- | :-------------------------------------------------------------- |
| **Frontend** | HTML5, Tailwind CSS, JavaScript (ES6+), Axios, Toastify, Chart.js, Vazirmatn Font |
| **Backend** | Python 3.9+, FastAPI, SQLAlchemy, Pydantic, Uvicorn         |
| **Database** | SQLite (قابلیت ارتقا به PostgreSQL)                             |
| **Deployment** | Docker, Docker Compose, Nginx (با SSL)                          |

### چرا این تکنولوژی‌ها؟

* **FastAPI**: عملکرد بالا و مستندات خودکار API.
* **Tailwind CSS**: طراحی سریع و پاسخ‌گو بدون نیاز به CSS سفارشی.
* **SQLite**: سبک و مناسب برای پروژه‌های کوچک تا متوسط.
* **Docker**: استقرار آسان و سازگار در محیط‌های مختلف.

---

## 📂 ساختار پروژه

```
university/
├── Dockerfile          # تصویر Docker برای بک‌اند
├── docker-compose.yml  # تنظیمات Docker
├── nginx.conf         # تنظیمات Nginx
├── main.py            # بک‌اند FastAPI
├── repo.js            # اسکریپت اصلی فرانت‌اند
├── university.db      # پایگاه داده SQLite
├── index.html         # صفحه اصلی
├── login.html         # صفحه ورود
├── students.html      # مدیریت دانشجویان
├── teachers.html      # مدیریت اساتید
├── courses.html       # مدیریت دروس
├── reports.html       # گزارشات
└── README.md          # مستندات
```

---

## 🚀 نصب و راه‌اندازی

### پیش‌نیازها

| ابزار        | نسخه پیشنهادی | توضیحات          |
| :------------ | :------------ | :--------------- |
| **Python** | 3.9+          | برای بک‌اند       |
| **Docker** | Latest        | برای استقرار      |
| **Docker Compose** | 1.29+         | برای مدیریت کانتینرها |
| **Git** | Latest        | برای کلون پروژه   |
| **Browser** | Chrome/Firefox | برای رابط کاربری   |

### نصب با Docker

1.  **کلون پروژه**:
    ```bash
    git clone [https://github.com/your-username/university.git](https://github.com/your-username/university.git)
    cd university
    ```
2.  **ایجاد پایگاه داده**:
    ```bash
    touch university.db
    sqlite3 university.db
    INSERT INTO departments (name) VALUES ('فنی مهندسی');
    INSERT INTO departments (name) VALUES ('علوم پایه');
    INSERT INTO departments (name) VALUES ('اقتصاد');
    .exit
    ```
3.  **اجرای پروژه**:
    ```bash
    docker-compose up --build -d
    ```
4.  **دسترسی**:
    * رابط کاربری: `https://harmakan.ir` یا `http://localhost`
    * API: `http://localhost:8000/api/departments`
    * مستندات API: `http://localhost:8000/docs`
5.  **توقف**:
    ```bash
    docker-compose down
    ```

### نصب دستی

1.  **نصب وابستگی‌ها**:
    ```bash
    pip install fastapi uvicorn sqlalchemy pydantic
    ```
2.  **اجرای بک‌اند**:
    ```bash
    uvicorn main:app --host 0.0.0.0 --port 8000 --reload
    ```
3.  **اجرای فرانت‌اند**:
    فایل‌های HTML را با Live Server یا Nginx باز کنید.
4.  **ایجاد پایگاه داده** (مانند مرحله 2 نصب Docker).

---

## 📖 راهنمای استفاده

### ورود به سیستم

* **آدرس**: `login.html`
* **اعتبارسنجی**: نام کاربری و رمز عبور (جدول `users`).
* **نکته**: برای تغییر رمز، جدول `users` را ویرایش کنید.

### مدیریت دانشجویان

* **صفحه**: `students.html`
* **ویژگی‌ها**:
    * ثبت دانشجو با شماره دانشجویی، نام، کد ملی، دانشکده، و رشته.
    * جستجو و فیلتر بر اساس دانشکده/رشته.
* **اعتبارسنجی**:
    * شماره دانشجویی: 11 رقم (الگوی `114150` در ارقام 4-9).
    * کد ملی: 10 رقم.

### مدیریت اساتید

* **صفحه**: `teachers.html`
* **ویژگی‌ها**:
    * ثبت و ویرایش اساتید با نام، کد ملی، و دانشکده.
    * جستجو بر اساس نام یا کد.

### مدیریت دروس

* **صفحه**: `courses.html`
* **ویژگی‌ها**:
    * ثبت درس با نام، واحد، دانشکده، و استاد.
    * تخصیص اساتید از لیست موجود.

### گزارشات

* **صفحه**: `reports.html`
* **ویژگی‌ها**:
    * نمودار پای برای توزیع دانشجویان در دانشکده‌ها.
    * نمودار میله‌ای برای تعداد دروس هر استاد.
    * دانلود نمودارها به‌صورت PNG.

---

## 📚 مستندات API

API در `http://localhost:8000/docs` مستند شده است. نمونه‌ها:

| متد   | مسیر                       | توضیحات          |
| :----- | :------------------------- | :--------------- |
| `GET`  | `/api/departments`         | لیست دانشکده‌ها   |
| `GET`  | `/api/students`            | لیست دانشجویان    |
| `POST` | `/api/students`            | ایجاد دانشجو      |
| `GET`  | `/api/students/{stid}`     | اطلاعات دانشجو     |
| `DELETE` | `/api/students/{stid}` | حذف دانشجو        |

**مثال**:

```bash
curl -X GET "http://localhost:8000/api/departments"
```

```json
{
  "items": [
    {"id": 1, "name": "فنی مهندسی"},
    {"id": 2, "name": "علوم پایه"},
    {"id": 3, "name": "اقتصاد"}
  ],
  "total": 3
}
```

---

## 🧑‍💻 توسعه و مشارکت

### راه‌اندازی محیط توسعه

* **کلون پروژه**:
    ```bash
    git clone [https://github.com/your-username/university.git](https://github.com/your-username/university.git)
    ```
* **نصب ابزارها**:
    ```bash
    npm install -g prettier eslint
    ```
* **تنظیم ESLint**:
    ```json
    {
      "env": { "browser": true, "es2021": true },
      "extends": ["eslint:recommended"],
      "parserOptions": { "ecmaVersion": 12 }
    }
    ```

### ساختار پایگاه داده

| جدول         | ستون‌ها                                                 |
| :------------ | :------------------------------------------------------ |
| `departments` | `id`, `name`                                            |
| `students`    | `STID`, `student_fname`, `student_lname`, `Department`, `Major`, `national_id` |
| `teachers`    | `teacher_id`, `teacher_fname`, `teacher_lname`, `Department`, `national_id` |
| `courses`     | `id`, `course_name`, `units`, `department`, `teacher_id` |
| `users`       | `id`, `username`, `password`                            |

### تست و دیباگ

* **API**: از `/docs` یا Postman استفاده کنید.
* **فرانت‌اند**: کنسول مرورگر (F12) و لاگ‌های `repo.js`.
* **بک‌اند**: لاگ‌های Docker:
    ```bash
    docker-compose logs backend
    ```

---

## 🛠 عیب‌یابی

| مشکل                      | راه‌حل                                                              |
| :------------------------- | :------------------------------------------------------------------ |
| `TypeError` در `repo.js`   | بررسی `majors` در `loadMajors`.                                    |
| عدم اتصال به API            | بررسی پورت `8000` در `docker-compose.yml` و لاگ‌های `backend`. |
| جدول `departments` خالی | افزودن دانشکده‌ها با SQLite (بخش نصب).                         |

**سوال متداول**:

**چگونه رمز را تغییر دهم؟**
```bash
sqlite3 university.db
UPDATE users SET password='new_password' WHERE username='admin';
```

---

## 📜 مجوز

این پروژه تحت لایسنس MIT منتشر شده است.

**تماس**:

* **توسعه‌دهنده**: حسین محمدی کیا
* **ایمیل**: hmkprogrammer@gmail.com
* **گیت‌هاب**: homoking

---

ساخته شده با ❤️ توسط حسین محمدی کیا
```